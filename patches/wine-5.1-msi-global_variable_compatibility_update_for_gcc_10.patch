From cc7f698b8245a48669d248569e7589ff824f2c70 Mon Sep 17 00:00:00 2001
From: Michael Cronenworth <mike@cchtml.com>
Date: Thu, 23 Jan 2020 17:05:23 -0600
Subject: [PATCH] msi: Global variable compatibility update for gcc 10.

Signed-off-by: Michael Cronenworth <mike@cchtml.com>
Signed-off-by: Hans Leidekker <hans@codeweavers.com>
Signed-off-by: Alexandre Julliard <julliard@winehq.org>
---
 dlls/msi/msi.c     | 2 ++
 dlls/msi/msipriv.h | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/dlls/msi/msi.c b/dlls/msi/msi.c
index 7bf5004bed1..6387b0a9372 100644
--- a/dlls/msi/msi.c
+++ b/dlls/msi/msi.c
@@ -51,6 +51,8 @@
 
 WINE_DEFAULT_DEBUG_CHANNEL(msi);
 
+BOOL is_wow64;
+
 static const WCHAR installerW[] = {'\\','I','n','s','t','a','l','l','e','r',0};
 
 UINT msi_locate_product(LPCWSTR szProduct, MSIINSTALLCONTEXT *context)
diff --git a/dlls/msi/msipriv.h b/dlls/msi/msipriv.h
index fca2f9e7b4d..6b87cfb3d86 100644
--- a/dlls/msi/msipriv.h
+++ b/dlls/msi/msipriv.h
@@ -42,7 +42,7 @@
 #include "winemsi.h"
 
 static const BOOL is_64bit = sizeof(void *) > sizeof(int);
-BOOL is_wow64 DECLSPEC_HIDDEN;
+extern BOOL is_wow64 DECLSPEC_HIDDEN;
 
 #define MSI_DATASIZEMASK 0x00ff
 #define MSITYPE_VALID    0x0100
-- 
GitLab

